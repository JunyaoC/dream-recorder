# --- Secret Keys ---

# Obtain from OpenAI dashboard
OPENAI_API_KEY="your-openai-api-key-here"

# Obtain from Luma Labs dashboard
LUMALABS_API_KEY="your-luma-labs-api-key-here"

# --- Logging ---
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL="INFO"

# --- Flask Settings ---
FLASK_ENV="production"  # Set to "development" for debug mode
HOST="0.0.0.0"         # Host to bind the server to
PORT=5000              # Port to run the server on

# --- Background Settings ---
TOTAL_BACKGROUND_IMAGES=1119

# --- Clock Settings ---
CLOCK_FADE_IN_DURATION=500  # Duration in milliseconds for clock fade in
CLOCK_FADE_OUT_DURATION=500  # Duration in milliseconds for clock fade out
CLOCK_CONFIG_PATH=/static/config/clock-default.json

# --- Video Settings ---
PLAYBACK_DURATION=120  # Duration in seconds before returning to clock state
VIDEO_HISTORY_LIMIT=7  # Number of previous videos to keep in the history
LOGO_FADE_IN_DURATION=2000  # Duration in milliseconds for logo fade in
LOGO_FADE_OUT_DURATION=1000  # Duration in milliseconds for logo fade out
TRANSITION_DELAY=100  # Delay in milliseconds between transitions

# --- Audio Settings ---
AUDIO_CHANNELS=1
AUDIO_SAMPLE_WIDTH=2   # Bytes per sample (2 = 16-bit)
AUDIO_FRAME_RATE=44100 # Samples per second (Hz)
RECORDINGS_DIR="media/audio"

# --- OpenAI Settings ---
WHISPER_MODEL="whisper-1"
GPT_MODEL="gpt-4o-mini"
GPT_SYSTEM_PROMPT="You are a creative video prompt engineer specializing in Luma Dream Machine. Your task is to transform dream descriptions into detailed, cinematic video prompts using natural, conversational language. Be specific about visual elements, atmosphere, emotional tone, style, mood, and lighting. Incorporate clear adjectives and descriptors, and include any desired text or advanced features (such as Modify, Styles, Character/Visual Reference, Camera Motion, Extend, Keyframes, or Loop) when relevant. Use consistent aesthetic keywords for style, and encourage prompts that can be iteratively refined. Keep the prompt concise but rich in visual detail, formatted as a single paragraph."
GPT_SYSTEM_PROMPT_EXTEND="You are a creative video prompt engineer specializing in Luma Dream Machine. Your task is to transform dream descriptions into detailed, cinematic video prompts using natural, conversational language. Be specific about visual elements, atmosphere, emotional tone, style, mood, and lighting. Incorporate clear adjectives and descriptors, and include any desired text or advanced features (such as Modify, Styles, Character/Visual Reference, Camera Motion, Extend, Keyframes, or Loop) when relevant. Use consistent aesthetic keywords for style, and encourage prompts that can be iteratively refined. Keep the prompt concise but rich in visual detail, formatted as a single paragraph. Break down the prompt into exactly two clear separate parts, using '*****' as a separator between part one and part two."
GPT_PRE_PROMPT="Use the following text to create a succinct Luma video generation prompt: "
GPT_TEMPERATURE=0.7
GPT_MAX_TOKENS=400

# --- Luma Labs Settings ---
LUMA_API_URL="https://api.lumalabs.ai/dream-machine/v1" # Documentation - https://docs.lumalabs.ai/docs/video-generation
LUMA_GENERATIONS_ENDPOINT="https://api.lumalabs.ai/dream-machine/v1/generations"
LUMA_EXTEND=True
LUMA_MODEL="ray-flash-2" # ray-flash-2 or ray-2
LUMA_RESOLUTION="540p" # 540p, 720p, 1080, 4k
LUMA_DURATION="9s" # 5s or 9s
LUMA_ASPECT_RATIO="21:9"
LUMA_POLL_INTERVAL=5
LUMA_MAX_POLL_ATTEMPTS=100
VIDEOS_DIR="media/video"
THUMBS_DIR="media/thumbs"

# --- FFmpeg Video Processing Settings ---
FFMPEG_BRIGHTNESS=0.2
FFMPEG_VIBRANCE=2
FFMPEG_DENOISE_THRESHOLD=300
FFMPEG_BILATERAL_SIGMA=100
FFMPEG_NOISE_STRENGTH=40

# --- GPIO Service Settings ---
GPIO_PIN=4
GPIO_FLASK_URL="http://localhost:5000"  # Ensure port matches PORT above if changed
GPIO_SINGLE_TAP_ENDPOINT="/api/gpio_single_tap"
GPIO_DOUBLE_TAP_ENDPOINT="/api/gpio_double_tap"
GPIO_SINGLE_TAP_MAX_DURATION=0.5
GPIO_DOUBLE_TAP_MAX_INTERVAL=0.7
GPIO_DEBOUNCE_TIME=0.05
GPIO_STARTUP_DELAY=2
GPIO_SAMPLING_RATE=0.01
